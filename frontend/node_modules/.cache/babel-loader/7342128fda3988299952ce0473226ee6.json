{"ast":null,"code":"var _jsxFileName = \"/home/agust/auth/frontend/src/components/UserInfo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport AuthContext from \"../context/AuthContext\";\nimport axios from \"axios\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction UserInfo(_ref) {\n  _s();\n\n  let {\n    user\n  } = _ref;\n  let [notes, setNotes] = useState([]);\n  let {\n    authTokens,\n    logoutUser\n  } = useContext(AuthContext);\n  useEffect(() => {\n    axios.get(\"http://127.0.0.1:8000/api/profile/\", {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + String(authTokens.access)\n      }\n    }).then(res => {\n      setNotes(res.data);\n    }).catch(() => {\n      alert(\"Algo fue mal\");\n    });\n  }, []);\n\n  const handleUpdate = async id => {\n    return axios.put(`http://127.0.0.1:8000/api/getprofileSolo/${id}/`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + String(authTokens.access)\n      }\n    }).then(res => {\n      const {\n        data\n      } = res;\n      const newBlogs = notes.map(b => {\n        if (b.id === id) {\n          return data;\n        }\n\n        return b;\n      });\n      setNotes(newBlogs);\n    }).catch(() => {\n      alert(\"Algo fue mal\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(ListGroup, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Current User Login: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: user.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 33\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), notes.map(b => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: user.username === b.username && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [b.username, \" | \", b.id, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this)\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 7\n  }, this);\n}\n\n_s(UserInfo, \"YhoSAe9xZmOz1krr0FdHXhhdQq8=\");\n\n_c = UserInfo;\nexport default UserInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserInfo\");","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","axios","ListGroup","UserInfo","user","notes","setNotes","authTokens","logoutUser","get","headers","String","access","then","res","data","catch","alert","handleUpdate","id","put","newBlogs","map","b","username"],"sources":["/home/agust/auth/frontend/src/components/UserInfo.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport AuthContext from \"../context/AuthContext\";\nimport axios from \"axios\";\nimport ListGroup from \"react-bootstrap/ListGroup\"\n\n\n\nfunction UserInfo({ user }) {\n  let [notes, setNotes] = useState([])\n  let {authTokens, logoutUser} = useContext(AuthContext)\n\n  useEffect(() => {\n    axios.get(\"http://127.0.0.1:8000/api/profile/\", \n    {headers: {\n        'Content-Type':'application/json',\n          'Authorization':'Bearer ' + String(authTokens.access)\n        }}\n    ).then((res) => {\n        setNotes(res.data)\n    }).catch(() => {\n      alert(\"Algo fue mal\")\n    })\n  }, [])\n\n\n\n  const handleUpdate = async (id) => {\n    return axios.put(`http://127.0.0.1:8000/api/getprofileSolo/${id}/`\n    ,{headers: {\n        'Content-Type':'application/json',\n          'Authorization':'Bearer ' + String(authTokens.access)\n\n\n        }\n\n    })\n    .then((res) => {\n        const { data } = res;\n        const newBlogs = notes.map( b => {\n            if (b.id === id){\n                return data;\n\n            }\n            return b;\n        })\n        setNotes(newBlogs);\n    }).catch(() => {\n        alert(\"Algo fue mal\")\n    })\n}\n\n\n    return (\n      <ListGroup>\n        \n        <h1>Current User Login: <strong>{user.username}</strong></h1>\n    {notes.map( b =>  {\n        return  <div>\n          \n          {\n            user.username === b.username &&\n            <>\n              <li>{b.username} | {b.id} </li>\n            </>\n        }\n\n            </div>\n    })}\n      </ListGroup>\n        \n        \n    );\n  }\n  \n  export default UserInfo;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;;;;AAIA,SAASC,QAAT,OAA4B;EAAA;;EAAA,IAAV;IAAEC;EAAF,CAAU;EAC1B,IAAI,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAhC;EACA,IAAI;IAACU,UAAD;IAAaC;EAAb,IAA2BT,UAAU,CAACC,WAAD,CAAzC;EAEAF,SAAS,CAAC,MAAM;IACdG,KAAK,CAACQ,GAAN,CAAU,oCAAV,EACA;MAACC,OAAO,EAAE;QACN,gBAAe,kBADT;QAEJ,iBAAgB,YAAYC,MAAM,CAACJ,UAAU,CAACK,MAAZ;MAF9B;IAAV,CADA,EAKEC,IALF,CAKQC,GAAD,IAAS;MACZR,QAAQ,CAACQ,GAAG,CAACC,IAAL,CAAR;IACH,CAPD,EAOGC,KAPH,CAOS,MAAM;MACbC,KAAK,CAAC,cAAD,CAAL;IACD,CATD;EAUD,CAXQ,EAWN,EAXM,CAAT;;EAeA,MAAMC,YAAY,GAAG,MAAOC,EAAP,IAAc;IACjC,OAAOlB,KAAK,CAACmB,GAAN,CAAW,4CAA2CD,EAAG,GAAzD,EACN;MAACT,OAAO,EAAE;QACP,gBAAe,kBADR;QAEL,iBAAgB,YAAYC,MAAM,CAACJ,UAAU,CAACK,MAAZ;MAF7B;IAAV,CADM,EASNC,IATM,CASAC,GAAD,IAAS;MACX,MAAM;QAAEC;MAAF,IAAWD,GAAjB;MACA,MAAMO,QAAQ,GAAGhB,KAAK,CAACiB,GAAN,CAAWC,CAAC,IAAI;QAC7B,IAAIA,CAAC,CAACJ,EAAF,KAASA,EAAb,EAAgB;UACZ,OAAOJ,IAAP;QAEH;;QACD,OAAOQ,CAAP;MACH,CANgB,CAAjB;MAOAjB,QAAQ,CAACe,QAAD,CAAR;IACH,CAnBM,EAmBJL,KAnBI,CAmBE,MAAM;MACXC,KAAK,CAAC,cAAD,CAAL;IACH,CArBM,CAAP;EAsBH,CAvBC;;EA0BE,oBACE,QAAC,SAAD;IAAA,wBAEE;MAAA,gDAAwB;QAAA,UAASb,IAAI,CAACoB;MAAd;QAAA;QAAA;QAAA;MAAA,QAAxB;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF,EAGDnB,KAAK,CAACiB,GAAN,CAAWC,CAAC,IAAK;MACd,oBAAQ;QAAA,UAGJnB,IAAI,CAACoB,QAAL,KAAkBD,CAAC,CAACC,QAApB,iBACA;UAAA,uBACE;YAAA,WAAKD,CAAC,CAACC,QAAP,SAAoBD,CAAC,CAACJ,EAAtB;UAAA;YAAA;YAAA;YAAA;UAAA;QADF;MAJI;QAAA;QAAA;QAAA;MAAA,QAAR;IAUH,CAXA,CAHC;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAoBD;;GAjEMhB,Q;;KAAAA,Q;AAmEP,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}